<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2017.2 (Released Jan 23, 2017) -->
<html>
<head>
<title>Calculating the residual and setting up the equation system</title>
<meta content="Calculating the residual and setting up the equation system" name="description"/>
<meta content="ccx" name="keywords"/>
<meta content="document" name="resource-type"/>
<meta content="global" name="distribution"/>
<meta content="LaTeX2HTML v2017.2" name="Generator"/>
<meta content="text/css" http-equiv="Content-Style-Type"/>
<link href="ccx.css" rel="STYLESHEET"/>
<link href="node433.html" rel="next"/>
<link href="node431.html" rel="previous"/>
<link href="node428.html" rel="up"/>
<link href="node433.html" rel="next"/>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
<script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      fleqn: false
     });
  }}});
  </script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet"/>
<!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
<style>
.katex { font-size: 1.1em; }
</style>
</head>
<body>
<div class="navigation"><!--Navigation Panel-->
<a href="node433.html" name="tex2html6803">
<img align="BOTTOM" alt="next" border="0" height="" src="next.svg" width="80"/></a>
<a href="node428.html" name="tex2html6799">
<img align="BOTTOM" alt="up" border="0" height="" src="up.svg" width="80"/></a>
<a href="node431.html" name="tex2html6793">
<img align="BOTTOM" alt="previous" border="0" height="" src="prev.svg" width="80"/></a>
<a href="node1.html" name="tex2html6801">
<img align="BOTTOM" alt="contents" border="0" height="" src="contents.svg" width="80"/></a>
<br/>
<b> Next:</b> <a href="node433.html" name="tex2html6804">Convergence criteria</a>
<b> Up:</b> <a href="node428.html" name="tex2html6800">Aerodynamic and hydraulic networks</a>
<b> Previous:</b> <a href="node431.html" name="tex2html6794">Initializing the unknowns</a>
   <b> <a href="node1.html" name="tex2html6802">Contents</a></b>
<br/>
<br/></div>
<!--End of Navigation Panel-->
<h3><a name="SECTION000119400000000000000">
Calculating the residual and setting up the equation system</a>
</h3>
<p>
The residual of the governing equations is calculated in subroutine
resultnet.f. At the start of the routine the static temperature is calculated for the nodes not identified as
chambers based on the total pressure, total temperature and mass flow. Then, a
loop is initialized covering all network elements. For each element the
contributions to the conservation of mass equation and to the conservation of
energy equation (or, equivalently, to the isothermal equation if the element
is an isothermal gas pipe element) of its corner nodes are
determined. Subsequently, the satisfaction of the element equation is
verified. This is the third mode the element routines are called in,
characterized by iflag=2. Finally, the energy contributions resulting from the
interaction with the walls and due to prescribed heat generation in the
network are taken into account. The residual constitutes the right hand side of
the network system.

<p>
Setting up the equation system is done in subroutine mafillnet.f. The
structure of the routine is very similar to the resultnet routine: in a loop
over all elements the coefficients of the equations (conservation of mass and
momentum and the conservation of energy, or, if applicable, the isothermal
condition) are determined. This includes effects from the interaction with the
walls. This leads to the left hand side of the system of equations.

<p>
<div class="navigation"><hr/>
<!--Navigation Panel-->
<a href="node433.html" name="tex2html6803">
<img align="BOTTOM" alt="next" border="0" height="" src="next.svg" width="80"/></a>
<a href="node428.html" name="tex2html6799">
<img align="BOTTOM" alt="up" border="0" height="" src="up.svg" width="80"/></a>
<a href="node431.html" name="tex2html6793">
<img align="BOTTOM" alt="previous" border="0" height="" src="prev.svg" width="80"/></a>
<a href="node1.html" name="tex2html6801">
<img align="BOTTOM" alt="contents" border="0" height="" src="contents.svg" width="80"/></a>
<br/>
<b> Next:</b> <a href="node433.html" name="tex2html6804">Convergence criteria</a>
<b> Up:</b> <a href="node428.html" name="tex2html6800">Aerodynamic and hydraulic networks</a>
<b> Previous:</b> <a href="node431.html" name="tex2html6794">Initializing the unknowns</a>
   <b> <a href="node1.html" name="tex2html6802">Contents</a></b> </div>
<!--End of Navigation Panel-->
</p></p></p></body>
</html>
