<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2017.2 (Released Jan 23, 2017) -->
<html>
<head>
<title>Meshing rules</title>
<meta content="Meshing rules" name="description"/>
<meta content="cgx" name="keywords"/>
<meta content="document" name="resource-type"/>
<meta content="global" name="distribution"/>
<meta content="LaTeX2HTML v2017.2" name="Generator"/>
<meta content="text/css" http-equiv="Content-Style-Type"/>
<link href="cgx.css" rel="STYLESHEET"/>
<link href="node232.html" rel="next"/>
<link href="node223.html" rel="previous"/>
<link href="cgx.html" rel="up"/>
<link href="node232.html" rel="next"/>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
<script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      fleqn: false
     });
  }}});
  </script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet"/>
<!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
<style>
.katex { font-size: 1.1em; }
</style>
</head>
<body>
<div class="navigation"><!--Navigation Panel-->
<a href="node232.html" name="tex2html3534">
<img align="BOTTOM" alt="next" border="0" height="" src="next.svg" width="80"/></a>
<a href="cgx.html" name="tex2html3530">
<img align="BOTTOM" alt="up" border="0" height="" src="up.svg" width="80"/></a>
<a href="node230.html" name="tex2html3524">
<img align="BOTTOM" alt="previous" border="0" height="" src="prev.svg" width="80"/></a>
<a href="node1.html" name="tex2html3532">
<img align="BOTTOM" alt="contents" border="0" height="" src="contents.svg" width="80"/></a>
<br/>
<b> Next:</b> <a href="node232.html" name="tex2html3535">User-Functions</a>
<b> Up:</b> <a href="cgx.html" name="tex2html3531">CalculiX USER'S MANUAL -</a>
<b> Previous:</b> <a href="node230.html" name="tex2html3525">Weighted Error</a>
   <b> <a href="node1.html" name="tex2html3533">Contents</a></b>
<br/>
<br/></div>
<!--End of Navigation Panel-->
<h1><a name="SECTION000140000000000000000"></a><a name="Meshing_rules"></a>
<br/>
Meshing rules
</h1>
The mesher geneates at first nodes on points and then on lines between its end points. That means that a line which is supposed to be meshed with a 3 node beam element generates and references only 1 node! Then nodes in the interior of surfaces are generated. So when a surface is made of 4 lines with each of a division of 2 then the surface generates and references just one node! At last the bodies generate nodes in its interior. Again, if the body uses 6 surfaces as described before it generates and references only one node. If such a body is stored in a set and the user needs all nodes which are used by it, it is necessary to extend the set by the points, lines and surfaces which are used by the body. Their nodes are then also referenced by the set. This can be done with the “<a href="node77.html#comp">comp</a>” command. The same logic is used when creating the elements (surfaces generate shell elements and reference them, bodies generate volume elements).

<p>
If a tet mesh is required and the user meshes at first the surfaces and then generates the tet elements using the command “<a href="node126.html#mesh">mesh</a> 'setname' tet” only the 'setname' and the set 'all' reference the tet elements and the newly generated additional nodes!

<p>
The way the mesher works has the consequence that only bodies who share a single common surface are connected at each node were they touch each other. Three surfaces with their points and lines are shown in figure <a href="#unconnectedBodies">11</a>. When sweeping this surfaces in 'y' direction three bodies will be generated. The line L006 generates a surface between the bodies at the position of A001 and A002. Both bodies will reference this surface and will therefore share its nodes. So all elements will be connected at that location. But a body using the surface A005 will use a surface generated by the combined line of L001 and L002 extruded in 'y' direction! This surface will not be used by the bodies generated by A001 and A002 since they will use the surfaces generated by the separately extruded lines L001 and L002. So bodies at the position of A001 and A005 will share the nodes of the common lines and points but not of the new surfaces at the location of line L001 (and not at the location of the new line at point D002). In the end at some inner locations gaps will exist.

<p>
<div align="CENTER"><a name="unconnectedBodies"></a><a name="2545"></a>
<table>
<caption align="BOTTOM"><strong>Figure 11:</strong>
unconnected bodies</caption>
<tr><td><img alt="\begin{figure}\epsfig{file=unconnectedBodies.eps,width=12cm}\end{figure}" border="0" height="466" src="img31.png" width="543"/></td></tr>
</table>
</div>
<p>
Some rules must be fulfilled before a geometry is meshable (see <a href="node126.html#mesh">mesh</a>). For linear elements (ie. qu4 or he8), the sum of all divisions (see <a href="node85.html#div">div</a>) of each surface must be even. In case of quadratic elements (ie. qu8 or he20) this sum must be divisible by 4 without residue. Opposite edges of a given surface might have different divisions. For example on the left side of a given surface the division is 8 and on the right side it is only 4. But only two opposite surfaces of a body can use this feature. These surfaces are called top and bottom surfaces. All other surfaces of this body must have unique divisions on opposite edges. In case of 3 sided surfaces it is necessary to apply a minimum division sufficient for two elements along the edge. The only exception is the element tr3u (see <a href="node90.html#elty">elty</a>) which allows a division of one.

<p>
A body can not be meshed when the shape of the body is very far from being brick-like. The body might be subdivided to improve the shapes of the single ones. There is a restriction for the definition of five- or seven-sided bodies. The first two surfaces in the body-topology (see <a href="node102.html#gbod">gbod</a>) have to be defined in the same order. That means the first line of the first surface has to be connected with the first line in the second surface by one of the remaining surfaces. This is always the case if the body is a product of a ”<a href="node196.html#swep">swep</a>” command.

<p>
<div class="navigation"><hr/>
<!--Navigation Panel-->
<a href="node232.html" name="tex2html3534">
<img align="BOTTOM" alt="next" border="0" height="" src="next.svg" width="80"/></a>
<a href="cgx.html" name="tex2html3530">
<img align="BOTTOM" alt="up" border="0" height="" src="up.svg" width="80"/></a>
<a href="node230.html" name="tex2html3524">
<img align="BOTTOM" alt="previous" border="0" height="" src="prev.svg" width="80"/></a>
<a href="node1.html" name="tex2html3532">
<img align="BOTTOM" alt="contents" border="0" height="" src="contents.svg" width="80"/></a>
<br/>
<b> Next:</b> <a href="node232.html" name="tex2html3535">User-Functions</a>
<b> Up:</b> <a href="cgx.html" name="tex2html3531">CalculiX USER'S MANUAL -</a>
<b> Previous:</b> <a href="node230.html" name="tex2html3525">Weighted Error</a>
   <b> <a href="node1.html" name="tex2html3533">Contents</a></b> </div>
<!--End of Navigation Panel-->
</p></p></p></p></p></p></body>
</html>
